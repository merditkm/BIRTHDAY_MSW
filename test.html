<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Effet texte dynamique sur clic image</title>

<style>
  /* --- STYLE DE BASE DE LA PAGE --- */
  body {
    font-family: Arial, sans-serif;  /* Police de texte simple et lisible */
    background: #f7f7f7;             /* Couleur de fond grise claire */
    padding: 20px;                   /* Espace intÃ©rieur autour du contenu */
  }

  /* --- CONTENEUR POUR CHAQUE IMAGE ET SON TEXTE --- */
  .image-container {
    display: inline-block;           /* Permet de placer plusieurs conteneurs cÃ´te Ã  cÃ´te */
    text-align: center;              /* Centre le texte sous lâ€™image */
    margin: 20px;                    /* Espace entre les images */
  }

  /* --- STYLE DES IMAGES --- */
  .image-container img {
    width: 200px;                    /* Largeur fixe pour les images */
    height: auto;                    /* Hauteur ajustÃ©e automatiquement */
    cursor: pointer;                 /* Le curseur change pour indiquer que câ€™est cliquable */
    border-radius: 8px;              /* Coins arrondis */
    transition: transform 0.3s;      /* Animation fluide lors du survol */
  }

  /* --- LÃ‰GER EFFET DE ZOOM QUAND ON PASSE LA SOURIS SUR Lâ€™IMAGE --- */
  .image-container img:hover {
    transform: scale(1.05);          /* Agrandit lÃ©gÃ¨rement lâ€™image */
  }

  /* --- ZONE OÃ™ LE TEXTE Sâ€™AFFICHE --- */
  .text {
    margin-top: 10px;                /* Petit espace entre lâ€™image et le texte */
    min-height: 30px;                /* RÃ©serve un peu dâ€™espace pour Ã©viter que tout bouge */
    font-size: 18px;                 /* Taille du texte */
    color: #333;                     /* Couleur du texte (gris foncÃ©) */
  }

  /* --- CURSEUR CLIGNOTANT (EFFET MACHINE Ã€ Ã‰CRIRE) --- */
  .cursor {
    display: inline-block;
    width: 10px;
    background: #333;                /* Petit rectangle noir qui clignote */
    animation: blink 0.8s infinite;  /* Animation rÃ©pÃ©tÃ©e toutes les 0,8 secondes */
  }

  /* --- ANIMATION DU CLIGNOTEMENT --- */
  @keyframes blink {
    50% { opacity: 0; }              /* Le curseur devient invisible au milieu de lâ€™animation */
  }
</style>
</head>

<body>

  <!-- 
    Chaque "image-container" contient :
      - une image cliquable
      - un texte qui sâ€™affichera en dessous
  -->
  <div class="image-container">
    <!-- data-text = le texte qui sâ€™affichera quand on clique -->
    <img src="https://placekitten.com/200/200" alt="Chaton" data-text="Voici un adorable petit chat ðŸ±.">
    <div class="text"></div> <!-- zone oÃ¹ le texte sâ€™Ã©crira -->
  </div>

  <div class="image-container">
    <img src="https://placebear.com/200/200" alt="Ours" data-text="Regardez cet ours majestueux ðŸ».">
    <div class="text"></div>
  </div>

  <div class="image-container">
    <img src="https://picsum.photos/200" alt="Photo alÃ©atoire" data-text="Une belle image prise au hasard ðŸ“¸.">
    <div class="text"></div>
  </div>


  <!-- ======================= -->
  <!-- SCRIPT JAVASCRIPT       -->
  <!-- ======================= -->
  <script>

    /**
     * Fonction qui crÃ©e l'effet "machine Ã  Ã©crire"
     * @param {HTMLElement} element - L'endroit oÃ¹ afficher le texte
     * @param {string} text - Le texte Ã  Ã©crire
     * @param {number} speed - Vitesse entre chaque lettre (en millisecondes)
     */
    function typeWriter(element, text, speed = 50) {
      element.innerHTML = ""; // On efface tout texte prÃ©cÃ©dent dans la zone

      let i = 0; // Compteur pour suivre la position actuelle dans le texte

      // On crÃ©e un Ã©lÃ©ment "curseur" visuel qui clignote pendant la saisie
      const cursor = document.createElement('span');
      cursor.classList.add('cursor');
      element.appendChild(cursor); // On ajoute le curseur dans la zone du texte

      // "setInterval" exÃ©cute une fonction plusieurs fois Ã  intervalles rÃ©guliers
      const interval = setInterval(() => {

        if (i < text.length) {
          // InsÃ¨re la lettre suivante juste avant le curseur
          cursor.insertAdjacentText('beforebegin', text.charAt(i));
          i++; // On passe Ã  la lettre suivante
        } else {
          // Quand toutes les lettres sont affichÃ©es :
          clearInterval(interval); // On arrÃªte le minuteur
          cursor.remove();          // Et on retire le curseur clignotant
        }

      }, speed); // dÃ©lai entre chaque lettre (par dÃ©faut 50 ms)
    }


    // SÃ©lectionne toutes les images dans la page
    const images = document.querySelectorAll('img');

    // Pour chaque image, on ajoute un "Ã©couteur dâ€™Ã©vÃ©nement"
    images.forEach(img => {

      img.addEventListener('click', () => {
        // SÃ©lectionne le div juste en dessous de lâ€™image
        const textElement = img.nextElementSibling;

        // RÃ©cupÃ¨re le texte stockÃ© dans "data-text"
        const text = img.dataset.text;

        // Lance lâ€™animation de saisie
        typeWriter(textElement, text, 40); // vitesse = 40 ms entre chaque lettre
      });
    });

  </script>

</body>
</html>

